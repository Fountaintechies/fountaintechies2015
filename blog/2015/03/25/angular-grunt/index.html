<!DOCTYPE html>
<html >
    <head>
        <meta charset="utf-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
                <title>Making your AngularJS application grunt | Blog | fountaintechies</title>
                <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
                <meta name="description" content="fountaintechies is proud to have been able to work together with Belfius on creating the Belfius Direct Wear smartwatch application."/>
                <meta name="keywords" content="Android,Belfius,mobile,android wear,wearables,ibeacon"/>
                <meta property="og:type" content="article"/>
                <meta property="og:title" content="Belfius Direct Wear"/>
                <meta property="og:url" content="http://www.fountaintechies.com/blog/2015/03/25/belfius-direct-wear/"/>
                <meta property="og:site_name" content="fountaintechies"/>
                <meta property="og:image" content="http://www.fountaintechies.com/images/af-og-image.jpg"/>
                <meta property="og:description" content="fountaintechies is proud to have been able to work together with Belfius on creating the Belfius Direct Wear smartwatch application."/>
                <meta property="article:published_time" content="Dec 15, 2014 ">
                    <meta property="article:section" content="Mobile development">
                        <meta property="article:tag" content="Android,Belfius,mobile,android wear,wearables">
                            <meta property="twitter:card" content="fountaintechies"/>
                            <meta property="twitter:site" content="@fountaintechies"/>
                            <meta property="twitter:creator" content="@fountaintechies"/>
                            <meta property="twitter:title" content="Belfius Direct Wear"/>
                            <meta property="twitter:description" content="fountaintechies is proud to have been able to work together with Belfius on creating the Belfius Direct Wear smartwatch application."/>
                            <meta property="twitter:image" content="http://www.fountaintechies.com/images/af-og-image.jpg">
                                <link rel="canonical" href="http://www.fountaintechies.com/blog/2015/03/25/belfius-direct-wear/">
                                    <link href="http://fonts.googleapis.com/css?family=Roboto+Slab:400,300,100,700" rel="stylesheet" type="text/css">
                                        <link rel="stylesheet" href="../../../../../assets/main-76c23bee270ceafbda6b8c37f78298bd.css" type="text/css"/>
                                        <link rel="stylesheet" href="../../../../../assets/syntax-4e68be894597df37d65b26d04a07c779.css" type="text/css"/>
                                        <link rel="stylesheet" href="../../../../../assets/lightbox-d09d49f017a9d99d1dc8fa3db247490c.css" type="text/css"/>
                                        <link rel="shortcut icon" href="../../../../../favicon.ico">
                                            <script>!function(e,a,n,o,t,c,i){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,c=a.createElement(n),i=a.getElementsByTagName(n)[0],c.async=1,c.src=o,i.parentNode.insertBefore(c,i)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-52602147-1",{cookieName:"Fountaintechies_GA",cookieDomain:"fountaintechies.com",cookieExpires:2419200}),ga("send","pageview")</script>
                                            <script>!function(){if("-ms-user-select"in document.documentElement.style&&navigator.userAgent.match(/IEMobile\/10\.0/)){var e=document.createElement("style");e.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.getElementsByTagName("head")[0].appendChild(e)}}()</script>
                                        </head>
                                        <body ng-app="app" ng-class="{chrome: chrome}" class="blog-post">
                                            <div id="wrap">
                                                <div class="navbar navbar-orange navbar-default navbar-fixed-top" role="navigation" animated-navigation="" ng-controller="navbarController">
                                                    <div class="container" style="position:relative">
                                                        <div class="navbar-header">
                                                            <button type="button" class="navbar-toggle" ng-click="collapse.open = !collapse.open">
                                                                <span class="sr-only">Toggle navigation</span>
                                                                <span class="icon-bar"></span>
                                                                <span class="icon-bar"></span>
                                                                <span class="icon-bar"></span>
                                                            </button>
                                                            <a class="navbar-brand is-hidden" href="../../../../../index.html" animated-navigation-logo="">
                                                                <i class="navbar-brand-icon"></i>
                                                                <div class="navbar-brand-text">fountaintechies</div>
                                                            </a>
                                                        </div>
                                                        <div class="navbar-collapse collapse" ng-class="{in: collapse.open}">
                                                            <ul class="nav navbar-nav navbar-right is-hidden" animated-navigation-navigation="">
                                                                <li>
                                                                    <a class="page-link About Us" href="../../../../../about/index.html">About Us</a>
                                                                </li>
                                                                <li>
                                                                    <a class="page-link Blog" href="../../../../index.html">Blog</a>
                                                                </li>
                                                                <li>
                                                                    <a class="page-link Clients" href="../../../../../clients/index.html">Clients</a>
                                                                </li>
                                                                <li>
                                                                    <a class="page-link Contact" href="../../../../../contact/index.html">Contact</a>
                                                                </li>
                                                                <li>
                                                                    <a class="page-link Jobs" href="../../../../../jobs/index.html">Jobs</a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <article class="container blog-post" style="margin:0 auto;">
                                                    <div class="row">
                                                        <div class="col-xs-10 col-xs-push-1 col-sm-10 col-sm-push-1 no-header">
                                                            <div>
                                                                <header class="blog-post-header post-type-html5">
                                                                    <div class="icon-wrapper vertical-centered">
                                                                        <i class="fa fa-html5"></i>
                                                                    </div>
                                                                    <div class="vertical-centered">
                                                                        <h1>Making your AngularJS application grunt</h1>
                                                                        <p class="meta"> March 25, 2015 • Amol Chawathe</p>
                                                                        <p> Categories: Categories: AngularJS, HTML5, Grunt, Ionic</p>
                                                                    </div>
                                                                </header>
                                                                <div id="post-1676" class="post-1676 post type-post status-publish format-standard has-post-thumbnail hentry category-javascript category-t tag-angularjs tag-grunt tag-javascript tag-karma tag-testing">
            <h1 class="entry-title">Making your AngularJS application grunt</h1>

            <div class="entry-meta">
                    <span class="meta-divider"></span><span class="meta-divider"></span>                  <span class="comments-link"><a href="http://g00glen00b.be/angular-grunt/#disqus_thread" title="Comment on Making your AngularJS application grunt" data-disqus-identifier="1676 http://g00glen00b.be/?p=1676"></a></span>
                </div><!-- .entry-meta -->

            <div class="entry-content">
                <p>A while back I wrote a small application to show you the main components of AngularJS, demonstrating controllers, services, filters and (custom) directives. In this tutorial I’m going to modify that application a bit and integrate GruntJS into it. For those who are wondering what Grunt is, well, it’s the task runner written in JavaScript, for JavaScript. What you can do with it? Run any task you want (as long as you find a plugin for it). Some example tasks you could run using Grunt are:</p>
<ul>
<li>Minification and/or concatenation of JavaScript files</li>
<li>Running your JavaScript unit tests</li>
<li>Deploying your application (to the cloud?)</li>
<li>Verifying your code quality using JSHint or JSLint</li>
<li>…</li>
</ul>
<p><span id="more-1676"></span></p>
<p>What are we going to use it for in this tutorial:</p>
<ul>
<li>Running our JavaScript unit tests written in Jasmine, by using the KarmaJS runner and PhantomJS</li>
<li>Verifying our code quality using JSHint/JSLint</li>
<li>Precompiling our AngularJS templates, so no asynchronous requests are necessary</li>
<li>Concatenate our JavaScript files</li>
<li>Minify our JavaScript files</li>
</ul>
<p>So, let’s start!</p>
<h3>Project setup</h3>
<p>In <a title="Jasminify your Angular app" href="http://g00glen00b.be/jasminify-angular-app/" target="_blank">my previous tutorial</a> I wrote&nbsp;several tests which we’re going to run through Grunt by using Karma. So, let’s start by getting a copy from <a href="https://github.com/song-rate-mvc/angular-song-rate/tree/0.0.2" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/song-rate-mvc/angular-song-rate/tree/0.0.2', 'that project');" target="_blank">that project</a> first. Now, most of these application lifecycle tools like Grunt and Karma come through the Node.js package manager, so in case you didn’t have it installed yet… start by installing <a href="http://nodejs.org" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://nodejs.org', 'Node.js');" target="_blank">Node.js</a>.<br>
Now we can start by creating our Node.js package descriptor, called&nbsp;<strong>package.json</strong>. This descriptor will tell the Node.js package manager which dependencies we have, in this example we will use it to load Grunt, several Grunt task plugins and of course also KarmaJS (and plugins):</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"angular-song-rate"</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; </span><span class="str">"version"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"0.0.3"</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; </span><span class="str">"devDependencies"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; </span><span class="str">"grunt"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"~0.4.5"</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; </span><span class="str">"grunt-cli"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"~0.1.13"</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; </span><span class="str">"grunt-html2js"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"~0.2.7"</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; </span><span class="str">"grunt-contrib-uglify"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"~0.5.0"</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; </span><span class="str">"grunt-contrib-clean"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"~0.5.0"</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; </span><span class="str">"grunt-contrib-connect"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"~0.8.0"</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; </span><span class="str">"grunt-contrib-compress"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"~0.9.1"</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; </span><span class="str">"grunt-contrib-concat"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"~0.4.0"</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; </span><span class="str">"grunt-contrib-jshint"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"~0.10.0"</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; </span><span class="str">"grunt-contrib-watch"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"~0.6.1"</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; </span><span class="str">"grunt-bower-task"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"~0.3.4"</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; </span><span class="str">"grunt-karma"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"~0.8.0"</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; </span><span class="str">"karma"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"~0.12.0"</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; </span><span class="str">"karma-jasmine"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"~0.1.0"</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; </span><span class="str">"karma-phantomjs-launcher"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"~0.1.4"</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; </span><span class="str">"karma-ng-html2js-preprocessor"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"~0.1.0"</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L1"><span class="pln"></span><span class="pun">}</span></li></ol></pre>
<p>As you can see these are quite a lot of plugins we need, so let me explain what each package will be used for in this example:</p>
<ul>
<li>The&nbsp;<strong>Grunt</strong>&nbsp;package contains all logic necessary to run tasks in your project</li>
<li>Normally, the&nbsp;<strong>grunt-cli</strong> should be installed globally, so you don’t really need it here, but it can’t harm either. To install it globally you use the command:
<pre class="prettyprint"><span class="pln">npm install </span><span class="pun">-</span><span class="pln">g grunt</span><span class="pun">-</span><span class="pln">cli</span></pre>
</li>
<li>The&nbsp;<strong>grunt-html2js</strong> plugin will be used to convert our AngularJS templates (like <code>app/templates/rating.html</code>) to JavaScript files, requiring no asynchronous lookups for retrieving the templates</li>
<li>To minify our files we can use the&nbsp;<strong>grunt-contrib-uglify</strong> plugin</li>
<li>We will use the grunt-html2js plugin to convert our template to a JavaScript file, however, we’re also going to concat our JavaScript file, so that file is rather temporary. To clean these temporary files, I’m going to use the&nbsp;<strong>grunt-contrib-clean</strong> plugin</li>
<li>While developing it would be nice if you could automatically run a webserver to test your application, to do that you can use the&nbsp;<strong>grunt-contrib-connect</strong> plugin</li>
<li>When releasing your application, it would be interesting to get an archive file containing all application resources, well, you can create such a ZIP file by using the&nbsp;<strong>grunt-contrib-compress</strong> plugin</li>
<li>Like explained earlier, we’re going to concatenate our JavaScript files, which is something we can do by using the&nbsp;<strong>grunt-contrib-concat</strong> plugin</li>
<li>To validate your code quality you can either use JSHint or JSLint (more strict), to integrate this in our build process, we use the&nbsp;<strong>grunt-contrib-jshint</strong> plugin</li>
<li>While developing, you want to be able to automatically create your concatenated JavaScript file while developing, the&nbsp;<strong>grunt-contrib-watch</strong> plugin will execute certain tasks when a file change is detected, great for automatically building your application</li>
<li>To automatically retrieve the latest Bower dependencies, you can use the&nbsp;<strong>grunt-bower-task</strong></li>
<li>Then finally, the&nbsp;<strong>grunt-karma</strong> task allows you to execute Karma from within Grunt</li>
</ul>
<p>Of course, we also have some dependencies or plugins for&nbsp;<strong>Karma</strong> itself:</p>
<ul>
<li>The&nbsp;<strong>karma</strong> package contains all code necessary to execute KarmaJS</li>
<li>When using Karma, you also need to define the testing framework you would like to use. In this case I’m going to use Jasmine, so to load all its dependencies we use the&nbsp;<strong>karma-jasmine</strong> plugin</li>
<li>In stead of testing your code inside a browser, I’m going to use PhantomJS for headless testing. To integrate it with Karma, we use the&nbsp;<strong>karma-phantomjs-launcher</strong> plugin</li>
<li>Then finally, while testing you also want to precompile your template so you can load it in your test cases, similar to what grunt-html2js does, will the&nbsp;<strong>karma-ng-html2js-preprocessor</strong> be used, but for testing purposes.</li>
</ul>
<p>Quite a long list, but that should be everything we need. Also make sure you have installed <a href="http://phantomjs.org/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://phantomjs.org/', 'PhantomJS');" target="_blank">PhantomJS</a> locally before continuing. If you don’t like to install PhantomJS, you can also fall back on a browser, just make sure you install the correct launcher then.</p>
<h3>Configuring Grunt</h3>
<p>So, let’s start configuring Grunt for our project by creating a file called&nbsp;<strong>Gruntfile.js</strong>. This file will contain the configuration of Grunt for our project, and is a typical Node.js JavaScript file, for example we start of by writing:</p>
<pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="kwd">module</span><span class="pun">.</span><span class="pln">exports </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">grunt</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><br></li><li class="L2"><span class="pln">&nbsp; grunt</span><span class="pun">.</span><span class="pln">initConfig</span><span class="pun">({</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; pkg</span><span class="pun">:</span><span class="pln"> grunt</span><span class="pun">.</span><span class="pln">file</span><span class="pun">.</span><span class="pln">readJSON</span><span class="pun">(</span><span class="str">'package.json'</span><span class="pun">)</span><span class="pln"></span><br></li><li class="L4"><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; </span><span class="com">// Task configuration will be written here</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; </span><span class="pun">});</span><span class="pln"></span><br></li><li class="L7"><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; </span><span class="com">// Loading of tasks and registering tasks will be written here</span><span class="pln"></span><br></li><li class="L9"><span class="pln"></span><span class="pun">};</span></li></ol></pre>
<p>This is the typical structure of any Grunt configuration file, where the configuration of the tasks happens inside the <code>grunt.initConfig()</code> command. But before we start by configuring tasks, we have to import all Grunt task packages, for example:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="pln">grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-contrib-jshint'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L1"><span class="pln">grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-contrib-clean'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L2"><span class="pln">grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-contrib-connect'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L3"><span class="pln">grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-contrib-compress'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L4"><span class="pln">grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-contrib-concat'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L5"><span class="pln">grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-contrib-uglify'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L6"><span class="pln">grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-html2js'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L7"><span class="pln">grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-contrib-watch'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L8"><span class="pln">grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-bower-task'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L9"><span class="pln">grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-karma'</span><span class="pun">);</span></li></ol></pre>
<h4>Bower</h4>
<p>To load the Bower dependencies when building, I’m going to use the following configuration:</p>
<pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">bower</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; install</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; options</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; &nbsp; install</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; &nbsp; copy</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; targetDir</span><span class="pun">:</span><span class="pln"> </span><span class="str">'./libs'</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; &nbsp; cleanTargetDir</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L9"><span class="pln"></span><span class="pun">}</span></li></ol></pre>
<p>Quite simple, we just clean the directory first and then install all dependencies.</p>
<h4>JSHint</h4>
<p>Even easier to configure is the JSHint task, just tell which files should be verified for code quality and you’re done:</p>
<pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">jshint</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; all</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'Gruntfile.js'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'app/*.js'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'app/**/*.js'</span><span class="pln"> </span><span class="pun">]</span><span class="pln"></span><br></li><li class="L2"><span class="pln"></span><span class="pun">}</span></li></ol></pre>
<h4>Karma</h4>
<p>After validating our code quality, it’s time to run our unit tests. KarmaJS works with a seperate configuration file, so the Bower task configuration is quite easy:</p>
<pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">karma</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; options</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; configFile</span><span class="pun">:</span><span class="pln"> </span><span class="str">'config/karma.conf.js'</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; unit</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; singleRun</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; &nbsp; </span><br></li><li class="L8"><span class="pln">&nbsp; continuous</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; singleRun</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; autoWatch</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L2"><span class="pln"></span><span class="pun">}</span></li></ol></pre>
<p>We have two tasks configured here, the first being&nbsp;<strong>karma:unit</strong> and the second&nbsp;<strong>karma:continuous</strong>. The first one will run each test once and will then stop, while the last one will continuously test our JavaScript file when a file change is detected.</p>
<h4>Compile Angular templates</h4>
<p>After verifying our code, it’s time to build the release version of our JavaScript code, starting of by compiling the AngularjS template:</p>
<pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">html2js</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; dist</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; src</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'app/templates/*.html'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; dest</span><span class="pun">:</span><span class="pln"> </span><span class="str">'tmp/templates.js'</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L5"><span class="pln"></span><span class="pun">}</span></li></ol></pre>
<p>Similar to most plugins we’re just telling what the source is and where it should put it’s output, in this case in the <strong>tmp/</strong> folder. Because we’re no longer going to use that file once it’s concatenated.</p>
<h4>Concatenation</h4>
<p>Almost there… to concatenate our JavaScript files to one file, we’re going to use the following configuration:</p>
<pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">concat</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; options</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; separator</span><span class="pun">:</span><span class="pln"> </span><span class="str">';'</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; dist</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; src</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'app/*.js'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'tmp/*.js'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; dest</span><span class="pun">:</span><span class="pln"> </span><span class="str">'dist/app.js'</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L8"><span class="pln"></span><span class="pun">}</span></li></ol></pre>
<p>Very similar to what we’ve done already in the previous plugin, we just defined a list of sources, and the output file.</p>
<h4>Minifying</h4>
<p>For production releases, you also want the JavaScript file to be minified, which means that all unnecessary stuff like whitespace, comments, … are removed until only a small file remains:</p>
<pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">uglify</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; dist</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; files</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="str">'dist/app.js'</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'dist/app.js'</span><span class="pln"> </span><span class="pun">]</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; options</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; &nbsp; mangle</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L9"><span class="pln"></span><span class="pun">}</span></li></ol></pre>
<p>As you can see I’m simply overwriting the concatenated file, I have one reason for this approach (compared to writing your minified file to app.min.js) and that’s because in this case we can skip minifying for development, the referenced file (dist/app.js) stays the same, so no other changes have to occur.</p>
<p>One thingto know is that, when using AngularJS you have to disable the <code>mangle</code> option. If you don’t do that, your application will probably not work, the reason why is because it will try to adjust variable names like this:</p>
<pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="kwd">var</span><span class="pln"> sum </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">myParam</span><span class="pun">,</span><span class="pln"> myOtherParam</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><span class="kwd">return</span><span class="pln"> myParam </span><span class="pun">+</span><span class="pln"> myOtherParam</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L2"><span class="pln"></span><span class="pun">};</span><span class="pln"></span><br></li><li class="L3"><span class="pln">sum</span><span class="pun">(</span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">);</span></li></ol></pre>
<p>Which would become something like:</p>
<pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="kwd">var</span><span class="pln"> a </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">b</span><span class="pun">,</span><span class="pln"> c</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><span class="kwd">return</span><span class="pln"> b </span><span class="pun">+</span><span class="pln"> c</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L2"><span class="pln"></span><span class="pun">};</span><span class="pln"></span><br></li><li class="L3"><span class="pln">a</span><span class="pun">(</span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">);</span></li></ol></pre>
<p>Obviously, nothing is wrong here, as both examples will run fine. However, if you use AngularJS dependency injection like:</p>
<pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">"myApp.controllers"</span><span class="pun">).</span><span class="pln">controller</span><span class="pun">(</span><span class="str">"songCtrl"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> songService</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><span class="com">// Your code</span><span class="pln"></span><br></li><li class="L2"><span class="pln"></span><span class="pun">});</span></li></ol></pre>
<p>AngularJS will fail to inject its dependencies, because things like <code>$scope</code> and <code>songService</code> will be converted to a and b. The error you will get is that AngularJS will not be able to find <code>aProvider</code> because there’s no module to inject which is being called “a”.</p>
<p>To solve that you can either disable the mangle option, or you could use the named dependency injection like this:</p>
<pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">"myApp.controllers"</span><span class="pun">).</span><span class="pln">controller</span><span class="pun">(</span><span class="str">"songCtrl"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'songService'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> songService</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><span class="com">// Your code</span><span class="pln"></span><br></li><li class="L2"><span class="pln"></span><span class="pun">}]);</span></li></ol></pre>
<p>I didn’t test it, but in this case it will use the String names to determine what to inject. The names of the variables in the function itself can be named anything you like, so this will probably work fine.</p>
<h4>Cleaning the tmp/ directory</h4>
<p>The tmp directory, used by the AngularJS compiled templates, is no longer necessary, as we already used that file while concatenating. This means we can clean the tmp directory now by using:</p>
<pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">clean</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; temp</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; src</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'tmp'</span><span class="pln"> </span><span class="pun">]</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L4"><span class="pln"></span><span class="pun">}</span></li></ol></pre>
<h4>Watch and execute</h4>
<p>While developing it’s not really interesting that the developer should have to execute these Grunt tasks each time when he changed something. To increase productivity, you can automatically run these tasks when a file changes by using something like:</p>
<pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">watch</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; dev</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; files</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'Gruntfile.js'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'app/*.js'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'*.html'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; tasks</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'jshint'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'karma:unit'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'html2js:dist'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'concat:dist'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'clean:temp'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; options</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; atBegin</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; min</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; files</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'Gruntfile.js'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'app/*.js'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'*.html'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; tasks</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'jshint'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'karma:unit'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'html2js:dist'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'concat:dist'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'clean:temp'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'uglify:dist'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; options</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; &nbsp; atBegin</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L5"><span class="pln"></span><span class="pun">}</span></li></ol></pre>
<p>We defined two tasks here, named&nbsp;<strong>watch:dev</strong> and&nbsp;<strong>watch:min</strong>. Like I explained earlier, minification should be optional. Minification removes all whitespace including enters, which means that while debugging or while getting errors in your console, it’s easier to know on which line you’re debugging, if everything is minified, there’s only one big line of JavaScript code, making it impossible to do that.</p>
<p>So, what happens here is that we tell which files should be looked at, so when these are being edited, the tasks that are listed are executed. The watch:dev and watch:min look very similar, except for the fact that we use the <strong>uglify:dist</strong> task to minify, while we don’t do that in the watch:dev task.</p>
<p>The watch task only executed when a file change is detected, if you also want to run these tasks when you execute Grunt, you can use the <code>atBegin</code> option.</p>
<h4>Running a webserver</h4>
<p>To run a webserver that can be used for development, we use the following task:</p>
<pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">connect</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; server</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; options</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; &nbsp; hostname</span><span class="pun">:</span><span class="pln"> </span><span class="str">'localhost'</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; &nbsp; port</span><span class="pun">:</span><span class="pln"> </span><span class="lit">8080</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L7"><span class="pln"></span><span class="pun">}</span></li></ol></pre>
<h4>Zipping your application</h4>
<p>The final task I’m going to configure is used to compress all files necessary to a single archive (ZIP file), which we can do by using:</p>
<pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">compress</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; dist</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; options</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; &nbsp; archive</span><span class="pun">:</span><span class="pln"> </span><span class="str">'dist/&lt;%= pkg.name %&gt;-&lt;%= pkg.version %&gt;.zip'</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; files</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; &nbsp; src</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'index.html'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; &nbsp; dest</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/'</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; &nbsp; src</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'dist/**'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; &nbsp; dest</span><span class="pun">:</span><span class="pln"> </span><span class="str">'dist/'</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; &nbsp; src</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'assets/**'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; &nbsp; dest</span><span class="pun">:</span><span class="pln"> </span><span class="str">'assets/'</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; src</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'libs/**'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; &nbsp; dest</span><span class="pun">:</span><span class="pln"> </span><span class="str">'libs/'</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; </span><span class="pun">}]</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L9"><span class="pln"></span><span class="pun">}</span></li></ol></pre>
<p>So here we list down all files and directories we need to bundle. Also notice the use of placeholders like <code>&lt;%= pkg.name %&gt;</code> and <code>&lt;%= pkg.version %&gt;</code>. These are being replaced by the <code>pkg.name</code> and <code>pkg.version</code> property in our configuration and if you remember our initial code, the pkg property uses <code>grunt.file.readJSON('package.json')</code>, which means we’re retrieving the name and version property from that file.</p>
<h4>Main tasks</h4>
<p>So, that’s all tasks we have to configure, but it would be really crazy if you had to execute each task individually to build you application. Within Grunt you can also define certain “workflow tasks”, which will simply execute other tasks in a specific order. I’m going to define four workflows in this application:</p>
<ul>
<li>Development: Building the application + running it on a webserver</li>
<li>Test: Building the application + continuously testing</li>
<li>Minified: Building the application (minified version) + running it on a webserver</li>
<li>Package: Building the application + creating a ZIP file</li>
</ul>
<p>Defining these workflows is quite simple, just write the following code at the bottom of your file:</p>
<pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">grunt</span><span class="pun">.</span><span class="pln">registerTask</span><span class="pun">(</span><span class="str">'dev'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'bower'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'connect:server'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'watch:dev'</span><span class="pln"> </span><span class="pun">]);</span><span class="pln"></span><br></li><li class="L1"><span class="pln">grunt</span><span class="pun">.</span><span class="pln">registerTask</span><span class="pun">(</span><span class="str">'test'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'bower'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'jshint'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'karma:continuous'</span><span class="pln"> </span><span class="pun">]);</span><span class="pln"></span><br></li><li class="L2"><span class="pln">grunt</span><span class="pun">.</span><span class="pln">registerTask</span><span class="pun">(</span><span class="str">'minified'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'bower'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'connect:server'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'watch:min'</span><span class="pln"> </span><span class="pun">]);</span><span class="pln"></span><br></li><li class="L3"><span class="pln">grunt</span><span class="pun">.</span><span class="pln">registerTask</span><span class="pun">(</span><span class="str">'package'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'bower'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'jshint'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'karma:unit'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'html2js:dist'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'concat:dist'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'uglify:dist'</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; </span><span class="str">'clean:temp'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'compress:dist'</span><span class="pln"> </span><span class="pun">]);</span></li></ol></pre>
<p>This is everything you should do in this file, everything together it should look like:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="com">/*jslint node: true */</span><span class="pln"></span><br></li><li class="L1"><span class="pln"></span><span class="str">"use strict"</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L2"><span class="pln"></span><br></li><li class="L3"><span class="pln"></span><br></li><li class="L4"><span class="pln"></span><span class="kwd">module</span><span class="pun">.</span><span class="pln">exports </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">grunt</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; </span><br></li><li class="L6"><span class="pln">&nbsp; grunt</span><span class="pun">.</span><span class="pln">initConfig</span><span class="pun">({</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; pkg</span><span class="pun">:</span><span class="pln"> grunt</span><span class="pun">.</span><span class="pln">file</span><span class="pun">.</span><span class="pln">readJSON</span><span class="pun">(</span><span class="str">'package.json'</span><span class="pun">),</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; </span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; bower</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; &nbsp; install</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; options</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; install</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; copy</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; targetDir</span><span class="pun">:</span><span class="pln"> </span><span class="str">'./libs'</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cleanTargetDir</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; </span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; uglify</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; &nbsp; dist</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; files</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">'dist/app.js'</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'dist/app.js'</span><span class="pln"> </span><span class="pun">]</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; options</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mangle</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; </span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; html2js</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; &nbsp; dist</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; src</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'app/templates/*.html'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; dest</span><span class="pun">:</span><span class="pln"> </span><span class="str">'tmp/templates.js'</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; </span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; clean</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; &nbsp; temp</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; src</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'tmp'</span><span class="pln"> </span><span class="pun">]</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; </span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; concat</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; options</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; separator</span><span class="pun">:</span><span class="pln"> </span><span class="str">';'</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; &nbsp; dist</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; src</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'app/*.js'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'tmp/*.js'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; dest</span><span class="pun">:</span><span class="pln"> </span><span class="str">'dist/app.js'</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; </span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; jshint</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; all</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'Gruntfile.js'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'app/*.js'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'app/**/*.js'</span><span class="pln"> </span><span class="pun">]</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; </span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; connect</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; &nbsp; server</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; options</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; hostname</span><span class="pun">:</span><span class="pln"> </span><span class="str">'localhost'</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; port</span><span class="pun">:</span><span class="pln"> </span><span class="lit">8080</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; </span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; watch</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; &nbsp; dev</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; files</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'Gruntfile.js'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'app/*.js'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'*.html'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; tasks</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'jshint'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'karma:unit'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'html2js:dist'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'concat:dist'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'clean:temp'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; options</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; atBegin</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; min</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; files</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'Gruntfile.js'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'app/*.js'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'*.html'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; tasks</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'jshint'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'karma:unit'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'html2js:dist'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'concat:dist'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'clean:temp'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'uglify:dist'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; options</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; atBegin</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; </span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; compress</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; dist</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; options</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; archive</span><span class="pun">:</span><span class="pln"> </span><span class="str">'dist/&lt;%= pkg.name %&gt;-&lt;%= pkg.version %&gt;.zip'</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; files</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; src</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'index.html'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dest</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/'</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; src</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'dist/**'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dest</span><span class="pun">:</span><span class="pln"> </span><span class="str">'dist/'</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; src</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'assets/**'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dest</span><span class="pun">:</span><span class="pln"> </span><span class="str">'assets/'</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; src</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'libs/**'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dest</span><span class="pun">:</span><span class="pln"> </span><span class="str">'libs/'</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}]</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; </span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; karma</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; &nbsp; options</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; configFile</span><span class="pun">:</span><span class="pln"> </span><span class="str">'config/karma.conf.js'</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; &nbsp; unit</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; singleRun</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; &nbsp; </span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; &nbsp; continuous</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; singleRun</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; autoWatch</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; </span><span class="pun">});</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; </span><br></li><li class="L0"><span class="pln">&nbsp; grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-contrib-jshint'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-contrib-clean'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-contrib-connect'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-contrib-compress'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-contrib-concat'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-contrib-uglify'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-html2js'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-contrib-watch'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-bower-task'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; grunt</span><span class="pun">.</span><span class="pln">loadNpmTasks</span><span class="pun">(</span><span class="str">'grunt-karma'</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; </span><br></li><li class="L1"><span class="pln">&nbsp; grunt</span><span class="pun">.</span><span class="pln">registerTask</span><span class="pun">(</span><span class="str">'dev'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'bower'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'connect:server'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'watch:dev'</span><span class="pln"> </span><span class="pun">]);</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; grunt</span><span class="pun">.</span><span class="pln">registerTask</span><span class="pun">(</span><span class="str">'test'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'bower'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'jshint'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'karma:continuous'</span><span class="pln"> </span><span class="pun">]);</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; grunt</span><span class="pun">.</span><span class="pln">registerTask</span><span class="pun">(</span><span class="str">'minified'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'bower'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'connect:server'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'watch:min'</span><span class="pln"> </span><span class="pun">]);</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; grunt</span><span class="pun">.</span><span class="pln">registerTask</span><span class="pun">(</span><span class="str">'package'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'bower'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'jshint'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'karma:unit'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'html2js:dist'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'concat:dist'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'uglify:dist'</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; </span><span class="str">'clean:temp'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'compress:dist'</span><span class="pln"> </span><span class="pun">]);</span><span class="pln"></span><br></li><li class="L6"><span class="pln"></span><span class="pun">};</span></li></ol></pre>
<h3>Karma configuration</h3>
<p>Before testing it out, we have to configure Karma as well. If you look at the karma task in our Grunt configuration, you will notice that we refer to a file called <strong>config/karma.conf.js</strong>, so let’s create that file first.</p>
<p>The content of that file is quite simple, it contains the configuration of the testing framework, the location of our sources, test files and libraries we need and some extra stuff:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="kwd">module</span><span class="pun">.</span><span class="pln">exports </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">config</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; config</span><span class="pun">.</span><span class="kwd">set</span><span class="pun">({</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; basePath</span><span class="pun">:</span><span class="pln"> </span><span class="str">'../'</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; frameworks</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'jasmine'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; files</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="str">'libs/jquery/dist/jquery.js'</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="str">'libs/angular/angular.js'</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="str">'libs/angular-mocks/angular-mocks.js'</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="str">'libs/lodash/dist/lodash.js'</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="str">'libs/underscore.string/lib/underscore.string.js'</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="str">'app/**/*.js'</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="str">'tests/**/*.js'</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="str">'app/templates/*.html'</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; preprocessors</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="str">'app/templates/*.html'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'ng-html2js'</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; reporters</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'progress'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; colors</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; autoWatch</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; browsers</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'PhantomJS'</span><span class="pln"> </span><span class="pun">],</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; singleRun</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; plugins</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="str">'karma-phantomjs-launcher'</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="str">'karma-jasmine'</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="str">'karma-ng-html2js-preprocessor'</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; </span><span class="pun">]</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; </span><span class="pun">});</span><span class="pln"></span><br></li><li class="L8"><span class="pln"></span><span class="pun">};</span></li></ol></pre>
<p>What you can see here is that we defined “Jasmine” as our testing framework, followed by all sources we need (including test files and libraries). Then we also tell Karma that we need to preprocess our template file to become a compiled JavaScript template.<br>
For reporting we’re going to use the “progress” reporter, which will simple show how many tests are failed. There are other reporters as well, like a JUnit XML format reporter, a “dots” reporter (which returns a green dot for each succesful test and a red cross for each failed test), … .</p>
<p>We also say that we want to use PhantomJS as the browser to use for testing and finally, we also define which plugins we need for Karma. If you don’t want to use PhantomJS, you can use the <a href="https://github.com/karma-runner/karma-chrome-launcher" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/karma-runner/karma-chrome-launcher', 'karma-chrome-launcher');" target="_blank">karma-chrome-launcher</a> (for example) to run your tests on Google Chrome.</p>
<h3>Modifying the application</h3>
<p>We now configured the entire build process, however, we made some changes to the JavaScript location, because we want to use the dist/app.js file when we load our application. So, let’s open&nbsp;<strong>index.html</strong> and look at the bottom of the file where you can find this:</p>
<pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/javascript"</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"app/app.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln"></span><br></li><li class="L1"><span class="pln"></span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/javascript"</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"app/controllers.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln"></span><br></li><li class="L2"><span class="pln"></span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/javascript"</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"app/services.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln"></span><br></li><li class="L3"><span class="pln"></span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/javascript"</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"app/filters.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln"></span><br></li><li class="L4"><span class="pln"></span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/javascript"</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"app/directives.js"</span><span class="tag">&gt;&lt;/script&gt;</span></li></ol></pre>
<p>And replace it by:</p>
<pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/javascript"</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"dist/app.js"</span><span class="tag">&gt;&lt;/script&gt;</span></li></ol></pre>
<h3>Testing it out</h3>
<p>So now our configuration is complete, let’s test it out! Open a command prompt or terminal and set your project as current working directory. Then make sure all packages are installed by using:</p>
<pre class="prettyprint"><span class="pln">npm install</span></pre>
<p>Now you can start by executing Grunt, for example:</p>
<pre class="prettyprint"><span class="pln">grunt dev</span></pre>
<p>If you did everything well, you should see that the Bower task is executed, followed by the connect:server and watch:dev task which will in turn execute the jshint:all, karma:unit, html2js:dist, concat:dist and clean:temp task.</p>
<p><a data-lightbox="1676" href="http://i2.wp.com/g00glen00b.be/wp-content/uploads/2014/06/grunt-dev.png"><img src="http://i2.wp.com/g00glen00b.be/wp-content/uploads/2014/06/grunt-dev.png?resize=640%2C371" class="aligncenter size-large wp-image-1687" alt="grunt-dev" width="640" height="371"></a></p>
<p>Now you should be able to go to <a href="http://localhost:8080" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://localhost:8080', 'http://localhost:8080');" target="_blank">http://localhost:8080</a> where you can see the application. If you make a small change to a file, you will see that the tasks defined in the watch:dev task are being executed again. In my case I adjusted the title of the&nbsp;<strong>index.html</strong> page a bit.<br>
Notice that the tasks are automatically being executed as well:</p>
<p><a data-lightbox="1676" href="http://i0.wp.com/g00glen00b.be/wp-content/uploads/2014/06/grunt-dev-watch.png"><img src="http://i0.wp.com/g00glen00b.be/wp-content/uploads/2014/06/grunt-dev-watch.png?resize=640%2C371" class="aligncenter size-large wp-image-1689" alt="grunt-dev-watch" width="640" height="371"></a></p>
<p>If you take a look at the application and refresh, your changes should be applied, for example:</p>
<p><a data-lightbox="1676" href="http://i1.wp.com/g00glen00b.be/wp-content/uploads/2014/06/grunt-dev-changes.png"><img src="http://i1.wp.com/g00glen00b.be/wp-content/uploads/2014/06/grunt-dev-changes.png?resize=640%2C161" class="aligncenter size-large wp-image-1688" alt="grunt-dev-changes" width="640" height="161"></a></p>
<p>You can do the same thing by using:</p>
<pre class="prettyprint"><span class="pln">grunt minified</span></pre>
<p>The main difference is that it will now use the minified version of your JavaScript code:</p>
<p><a data-lightbox="1676" href="http://i1.wp.com/g00glen00b.be/wp-content/uploads/2014/06/grunt-min.png"><img src="http://i1.wp.com/g00glen00b.be/wp-content/uploads/2014/06/grunt-min.png?resize=595%2C302" class="aligncenter size-full wp-image-1691" alt="grunt-min" width="595" height="302"></a></p>
<p>So let’s test our unit tests as well by using:</p>
<pre class="prettyprint"><span class="pln">grunt test</span></pre>
<p><a data-lightbox="1676" href="http://i1.wp.com/g00glen00b.be/wp-content/uploads/2014/06/grunt-test.png"><img src="http://i1.wp.com/g00glen00b.be/wp-content/uploads/2014/06/grunt-test.png?resize=640%2C371" class="aligncenter size-large wp-image-1693" alt="grunt-test" width="640" height="371"></a></p>
<p>You will see that it executes all tests properly and no failures are found. For testing purposes I edited&nbsp;<strong>ratingDirectiveSpec.js</strong> a bit and made a false statement. Because the karma:continuous task is executed, it will detect changes in my JavaScript file and automatically rerun my tests:</p>
<p><a data-lightbox="1676" href="http://i1.wp.com/g00glen00b.be/wp-content/uploads/2014/06/grunt-test-fail.png"><img src="http://i1.wp.com/g00glen00b.be/wp-content/uploads/2014/06/grunt-test-fail.png?resize=640%2C371" class="aligncenter size-large wp-image-1695" alt="grunt-test-fail" width="640" height="371"></a></p>
<p>You can see that the tests are failing now, even by looking at the amount of red in the console.<br>
You can also open the link which you can see in your command prompt, in my case being <a href="http://localhost:9876/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://localhost:9876/', 'http://localhost:9876');" target="_blank">http://localhost:9876</a>. If you do that, the tests will now get executed in both PhantomJS and your webbrowser.</p>
<p><a data-lightbox="1676" href="http://i0.wp.com/g00glen00b.be/wp-content/uploads/2014/06/grunt-test-chrome.png"><img src="http://i0.wp.com/g00glen00b.be/wp-content/uploads/2014/06/grunt-test-chrome.png?resize=640%2C38" class="aligncenter size-large wp-image-1694" alt="grunt-test-chrome" width="640" height="38"></a></p>
<p>However, this is way slower. As you can see in my screenshot it’s still executing my tests and it’s only at test 6 of 23.</p>
<p>The last task to test is the package task:</p>
<pre class="prettyprint"><span class="pln">grunt </span><span class="kwd">package</span></pre>
<p>Which will produce a ZIP file containing all your files inside the dist/ folder.</p>
<p><a data-lightbox="1676" href="http://i2.wp.com/g00glen00b.be/wp-content/uploads/2014/06/grunt-package.png"><img src="http://i2.wp.com/g00glen00b.be/wp-content/uploads/2014/06/grunt-package.png?resize=640%2C371" class="aligncenter size-large wp-image-1692" alt="grunt-package" width="640" height="371"></a></p>
<p><em>Note: The command I used lists the contents of the archive file, but excluding all files in the libs folder.</em></p>
<h3>You’re now ready to grunt</h3>
<p>With the demonstration of these tasks I’m going to end this tutorial. You’ve seen about 10 task plugins which you can use to make your Angular app grunt, but there are of course much more tasks you can use as well. For example, take a look at <a href="http://www.ibizz.be/bluemix/gruntify-nodejs-app-ibm-bluemix/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.ibizz.be/bluemix/gruntify-nodejs-app-ibm-bluemix/', 'this guide about deploying your application to the cloud using Grunt and Cloud Foundry');" target="_blank">this guide about deploying your application to the cloud using Grunt and Cloud Foundry</a>.</p>
<div class="alert alert-block alert-info alert-trophy">
<h4 class="alert-heading">Achievement: Made your Angular app grunt</h4>
<p>Seeing this means you finished the Making your AngularJS application grunt tutorial. If you’re interested in having us to help you with the angular-js migration. Just give us a call. </p>
</div>

</article>

                                                    <div id="push"></div>
                                                </div>
                                                <section id="contact" class="dark footer border-top contact xs-margin sm-margin md-margin" footer-element="">
                                                    <div class="container">
                                                        <div class="row">
                                                            <div class="contact-col col-xs-12 col-sm-3 col-md-3 align-center">
                                                                <div class="row">
                                                                    <i class="contact-icon fa fa-phone"></i>
                                                                    <h3 class="contact-title">Give us a call!</h3>
                                                                    <h4 class="contact-label">
                                                                        <a href="tel:006586737532">+65 8673 7532</a>
                                                                    </h4>
                                                                </div>
                                                            </div>
                                                            <div class="contact-col col-xs-12 col-sm-3 col-md-3 align-center">
                                                                <div class="row">
                                                                    <i class="contact-icon fa fa-envelope"></i>
                                                                    <h3 class="contact-title"> Send us an email!</h3>
                                                                    <h4 class="contact-label">
                                                                        <a href="mailto:info@fountaintechies.com">info@fountaintechies.com</a>
                                                                    </h4>
                                                                </div>
                                                            </div>
                                                            <div class="contact-col col-xs-12 col-sm-3 col-md-3 align-center">
                                                                <div class="row">
                                                                    <i class="contact-icon fa fa-twitter"></i>
                                                                    <h3 class="contact-title"> Follow us!</h3>
                                                                    <h4 class="contact-label">
                                                                        <a href="https://twitter.com/fountaintechies" target="_blank">@fountaintechies</a>
                                                                    </h4>
                                                                </div>
                                                            </div>
                                                            <div class="contact-col col-xs-12 col-sm-3 col-md-3 align-center">
                                                                <div class="row">
                                                                    <i class="contact-icon fa fa-github-alt"></i>
                                                                    <h3 class="contact-title"> Fork us on GitHub!</h3>
                                                                    <h4 class="contact-label">
                                                                        <a href="https://github.com/fountaintechies" target="_blank">fountaintechies</a>
                                                                    </h4>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </section>
                                                <div class="align-center dark footer border-bottom">
                                                    <p class="copyright">
                                                        <small>&copy; 2015 Fountain Technologies Pte. Ltd.</small>
                                                    </p>
                                                </div>
                                                <script src="../../../../../assets/app-fb0e394c60653852f6abd8bed493720e.js"></script>
                                                <script src="../../../../../assets/vendor/lightbox.min-c88dcd8d658bb8192df1f50fb6d4ccba.js"></script>
                                                <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45832666-1', 'auto');
  ga('send', 'pageview');

</script>
                                            </body>
                                        </html>
