<!DOCTYPE html>
<html >
    <head>
        <meta charset="utf-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
                <title>Angular-powered Forms | Blog | fountaintechies</title>
                <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
                <meta name="description" content="fountaintechies is proud to have been able to work together with Belfius on creating the Belfius Direct Wear smartwatch application."/>
                <meta name="keywords" content="Android,Belfius,mobile,android wear,wearables,Amol Chawathe"/>
                <meta property="og:type" content="article"/>
                <meta property="og:title" content="Belfius Direct Wear"/>
                <meta property="og:url" content="http://www.fountaintechies.com/blog/2015/03/25/belfius-direct-wear/"/>
                <meta property="og:site_name" content="fountaintechies"/>
                <meta property="og:image" content="http://www.fountaintechies.com/images/af-og-image.jpg"/>
                <meta property="og:description" content="fountaintechies is proud to have been able to work together with Belfius on creating the Belfius Direct Wear smartwatch application."/>
                <meta property="article:published_time" content="Dec 15, 2014 ">
                    <meta property="article:section" content="Mobile development">
                        <meta property="article:tag" content="Android,Belfius,mobile,android wear,wearables">
                            <meta property="twitter:card" content="fountaintechies"/>
                            <meta property="twitter:site" content="@fountaintechies"/>
                            <meta property="twitter:creator" content="@fountaintechies"/>
                            <meta property="twitter:title" content="Belfius Direct Wear"/>
                            <meta property="twitter:description" content="fountaintechies is proud to have been able to work together with Belfius on creating the Belfius Direct Wear smartwatch application."/>
                            <meta property="twitter:image" content="http://www.fountaintechies.com/images/af-og-image.jpg">
                                <link rel="canonical" href="http://www.fountaintechies.com/blog/2015/03/25/belfius-direct-wear/">
                                    <link href="http://fonts.googleapis.com/css?family=Roboto+Slab:400,300,100,700" rel="stylesheet" type="text/css">
                                        <link rel="stylesheet" href="../../../../../assets/main-76c23bee270ceafbda6b8c37f78298bd.css" type="text/css"/>
                                        <link rel="stylesheet" href="../../../../../assets/syntax-4e68be894597df37d65b26d04a07c779.css" type="text/css"/>
                                        <link rel="stylesheet" href="../../../../../assets/lightbox-d09d49f017a9d99d1dc8fa3db247490c.css" type="text/css"/>
                                        <link rel="shortcut icon" href="../../../../../favicon.ico">
                                            <script>!function(e,a,n,o,t,c,i){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,c=a.createElement(n),i=a.getElementsByTagName(n)[0],c.async=1,c.src=o,i.parentNode.insertBefore(c,i)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-52602147-1",{cookieName:"Fountaintechies_GA",cookieDomain:"fountaintechies.com",cookieExpires:2419200}),ga("send","pageview")</script>
                                            <script>!function(){if("-ms-user-select"in document.documentElement.style&&navigator.userAgent.match(/IEMobile\/10\.0/)){var e=document.createElement("style");e.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.getElementsByTagName("head")[0].appendChild(e)}}()</script>
                                        </head>
                                        <body ng-app="app" ng-class="{chrome: chrome}" class="blog-post">
                                            <div id="wrap">
                                                <div class="navbar navbar-orange navbar-default navbar-fixed-top" role="navigation" animated-navigation="" ng-controller="navbarController">
                                                    <div class="container" style="position:relative">
                                                        <div class="navbar-header">
                                                            <button type="button" class="navbar-toggle" ng-click="collapse.open = !collapse.open">
                                                                <span class="sr-only">Toggle navigation</span>
                                                                <span class="icon-bar"></span>
                                                                <span class="icon-bar"></span>
                                                                <span class="icon-bar"></span>
                                                            </button>
                                                            <a class="navbar-brand is-hidden" href="../../../../../index.html" animated-navigation-logo="">
                                                                <i class="navbar-brand-icon"></i>
                                                                <div class="navbar-brand-text">fountaintechies</div>
                                                            </a>
                                                        </div>
                                                        <div class="navbar-collapse collapse" ng-class="{in: collapse.open}">
                                                            <ul class="nav navbar-nav navbar-right is-hidden" animated-navigation-navigation="">
                                                                <li>
                                                                    <a class="page-link About Us" href="../../../../../about/index.html">About Us</a>
                                                                </li>
                                                                <li>
                                                                    <a class="page-link Blog" href="../../../../index.html">Blog</a>
                                                                </li>
                                                                <li>
                                                                    <a class="page-link Clients" href="../../../../../clients/index.html">Clients</a>
                                                                </li>
                                                                <li>
                                                                    <a class="page-link Contact" href="../../../../../contact/index.html">Contact</a>
                                                                </li>
                                                                <li>
                                                                    <a class="page-link Jobs" href="../../../../../jobs/index.html">Jobs</a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <article class="container blog-post">
                                                    <div class="row">
                                                        <div class="col-xs-10 col-xs-push-1 col-sm-10 col-sm-push-1 no-header">
                                                            <div>
                                                                <header class="blog-post-header post-type-html5" style="margin-bottom:0px;">
                                                                    <div class="icon-wrapper vertical-centered">
                                                                        <i class="fa fa-html5"></i>
                                                                    </div>
                                                                    <div class="vertical-centered">
                                                                        <h1>Angular-powered Forms</h1>
                                                                        <p class="meta"> Mar 25, 2015 • Amol Chawathe</p>
                                                                        <p> Categories: AngularJS, HTML5, Form Validation, Ionic</div></p>
                                                                    </div>
                                                                </header>
                                                                <div id="post-1746" class="post-1746 post type-post status-publish format-standard has-post-thumbnail hentry category-javascript category-t tag-angularjs tag-forms">

            <div class="entry-content">
                <p>In the previous tutorials about AngularJS I already used some forms, but I never went into detail about them or about form validation. In this tutorial that will probably change, as I will explain you how you could use AngularJS validation and write your own custom validators.</p>
<p><span id="more-1746"></span></p>
<h3>Project setup</h3>
<p>The project setup is quite simple, I’m going to write an application containing a single HTML file (index.html), a JavaScript file for the AngularJS controllers and one for the directives, and also a JavaScript file for the application itself.</p>
<p>Obviously I’m going to use the AngularJS framework, and next to that I will also use the Twitter Bootstrap CSS to create a good-looking form.</p>
<p>In the application JavaScript file I’m also going to define packages for the application, the controllers and the directives, to do that you should write the following</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">"myApp.controllers"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln"></span><br></li><li class="L1"><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">"myApp.directives"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; </span><br></li><li class="L3"><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">"myApp"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; </span><span class="str">"myApp.controllers"</span><span class="pun">,</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; </span><span class="str">"myApp.directives"</span><span class="pln"></span><br></li><li class="L6"><span class="pln"></span><span class="pun">});</span></li></ol></pre>
<h3>The form</h3>
<p>First thing to do is to add the form itself. The form is going to be a simple Twitter Bootstrap based horizontal form, but it can be anything:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"container"</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"RegisterCtrl"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><span class="tag">&lt;form</span><span class="pln"> </span><span class="atn">role</span><span class="pun">=</span><span class="atv">"form"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-horizontal"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"form"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">E-mail:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"email"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"mail"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"E-mail address"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">Username:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"username"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"Username"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">Password:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"Password"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">Repeat password:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"password2"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"Repeat password"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"submit"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"btn btn-primary btn-block btn-lg"</span><span class="tag">&gt;</span><span class="pln">Register</span><span class="tag">&lt;/button&gt;</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><span class="tag">&lt;/form&gt;</span><span class="pln"></span><br></li><li class="L2"><span class="pln"></span><span class="tag">&lt;/div&gt;</span></li></ol></pre>
<p>As you can see, it’s a simple registration form containing 4 elements, the username, e-mail password and the repeat password field. In its current state, you can simply press the button even if you didn’t even enter any information. That’s what we’re going to change in this tutorial.</p>
<h3>HTML5 validation</h3>
<p>Before we start writing custom validators, you should also be aware of the fact that HTML5 allows browsers to support validation. For example, if you add the <code>required</code> attribute to a form element, it should be entered before the form can be submitted.<br>
Every <code>&lt;input&gt;</code> element is required, so add a <code>required</code> attribute to all elements. The username also has a maximum length of 16 characters, so add the <code>maxlength="16"</code> attribute to it.</p>
<h3>Angularify the HTML validation attributes</h3>
<p>The good thing about AngularJS forms is that it uses these attributes to add some basic validation to the form, so, this means that right now we’re already using AngularJS form validation. Before we try it out in our browser, make sure you create a “dummy controller, like the one below:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">"myApp.controllers"</span><span class="pun">).</span><span class="pln">controller</span><span class="pun">(</span><span class="str">"RegisterCtrl"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> $q</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; </span><br></li><li class="L2"><span class="pln"></span><span class="pun">});</span></li></ol></pre>
<p>Next to that, we also have to bind the values of this form to a model, which we will do by adding the <code>ng-model</code> attribute to all form elements, for example:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="tag">&lt;form</span><span class="pln"> </span><span class="atn">role</span><span class="pun">=</span><span class="atv">"form"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-horizontal"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"form"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">E-mail:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"email"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"mail"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"E-mail address"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="atn">ng-model</span><span class="pun">=</span><span class="atv">"email"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">Username:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"username"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"Username"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="atn">maxlength</span><span class="pun">=</span><span class="atv">"16"</span><span class="pln"> </span><span class="atn">ng-model</span><span class="pun">=</span><span class="atv">"username"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="pln"> </span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">Password:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"Password"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="atn">ng-model</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">Repeat password:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"password2"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"Repeat password"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="atn">ng-model</span><span class="pun">=</span><span class="atv">"password2"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"submit"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"btn btn-primary btn-block btn-lg"</span><span class="pln"> </span><span class="tag">&gt;</span><span class="pln">Register</span><span class="tag">&lt;/button&gt;</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L0"><span class="pln"></span><span class="tag">&lt;/form&gt;</span></li></ol></pre>
<p>So, if we run it in our browser now, and enter an invalid e-mail address, AngularJS will change a specific model in your controller, for example:</p>
<p><a data-lightbox="1746" href="http://i2.wp.com/g00glen00b.be/wp-content/uploads/2014/09/model-change.png"><img src="http://i2.wp.com/g00glen00b.be/wp-content/uploads/2014/09/model-change.png?resize=640%2C338" class="size-large wp-image-1755 aligncenter" alt="model-change" width="640" height="338"></a></p>
<div class="alert alert-block alert-info"><strong>Heads up!</strong> The weird symbols you see at the right end of the form fields are part of a browser plugin, I forgot to disable it and only noticed it afterwards.</div>
<p>Based on this model we can add some colours and other stuff to indicate that the form is valid or not. For example, I’m going to change the form into this:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="tag">&lt;form</span><span class="pln"> </span><span class="atn">role</span><span class="pun">=</span><span class="atv">"form"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-horizontal"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"form"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="pln"> </span><span class="atn">ng-class</span><span class="pun">=</span><span class="atv">"{'has-error': form.mail.$dirty &amp;&amp; form.mail.$invalid}"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">E-mail:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"email"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"mail"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"E-mail address"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="atn">ng-model</span><span class="pun">=</span><span class="atv">"email"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="pln"> </span><span class="atn">ng-class</span><span class="pun">=</span><span class="atv">"{'has-error': form.username.$dirty &amp;&amp; form.username.$invalid}"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">Username:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"username"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"Username"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="atn">maxlength</span><span class="pun">=</span><span class="atv">"16"</span><span class="pln"> </span><span class="atn">ng-model</span><span class="pun">=</span><span class="atv">"username"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="pln"> </span><span class="atn">ng-class</span><span class="pun">=</span><span class="atv">"{'has-error': form.password.$dirty &amp;&amp; form.password.$invalid}"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">Password:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"Password"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="atn">ng-model</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="pln"> </span><span class="atn">ng-class</span><span class="pun">=</span><span class="atv">"{'has-error': form.password2.$dirty &amp;&amp; form.password2.$invalid}"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">Repeat password:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"password2"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"Repeat password"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="atn">ng-model</span><span class="pun">=</span><span class="atv">"password2"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"submit"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"btn btn-primary btn-block btn-lg"</span><span class="pln"> </span><span class="tag">&gt;</span><span class="pln">Register</span><span class="tag">&lt;/button&gt;</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L0"><span class="pln"></span><span class="tag">&lt;/form&gt;</span></li></ol></pre>
<p>By using the <strong>ngClass</strong> directive, I’m adding the <code>.has-error</code> class to the form element as soon as the field is invalid (<code>$invalid</code>) and dirty (<code>$dirty</code>). The dirty-check is here to validate if the form field has been altered. If the form field is not altered yet, we don’t want show the errors yet.</p>
<h3>Error messages</h3>
<p>Each validation also sets its own property, for example, when you enter an invalid mail, it will set the <code>form.mail.$error.email</code> property to <code>true</code>, while if you leave the mail field empty, it will set the <code>form.mail.$error.required</code> property to <code>true</code>.</p>
<p>Thanks to this, we can provide some individual error messages as well, for example:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="tag">&lt;form</span><span class="pln"> </span><span class="atn">role</span><span class="pun">=</span><span class="atv">"form"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-horizontal"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"form"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="pln"> </span><span class="atn">ng-class</span><span class="pun">=</span><span class="atv">"{'has-error': form.mail.$dirty &amp;&amp; form.mail.$invalid}"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">E-mail:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"email"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"mail"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"E-mail address"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="atn">ng-model</span><span class="pun">=</span><span class="atv">"email"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"help-block"</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.mail.$dirty &amp;&amp; form.mail.$error.required"</span><span class="tag">&gt;</span><span class="pln">Please provide your e-mail adress, eg. me@example.org</span><span class="tag">&lt;/span&gt;</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"help-block"</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.mail.$dirty &amp;&amp; form.mail.$error.email"</span><span class="tag">&gt;</span><span class="pln">The mail address you provided is not a valid mail address</span><span class="tag">&lt;/span&gt;</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="pln"> </span><span class="atn">ng-class</span><span class="pun">=</span><span class="atv">"{'has-error': form.username.$dirty &amp;&amp; form.username.$invalid}"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">Username:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"username"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"Username"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="atn">maxlength</span><span class="pun">=</span><span class="atv">"16"</span><span class="pln"> </span><span class="atn">ng-model</span><span class="pun">=</span><span class="atv">"username"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"help-block"</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.username.$dirty &amp;&amp; form.username.$error.required"</span><span class="tag">&gt;</span><span class="pln">Please provide the username you would like to have</span><span class="tag">&lt;/span&gt;</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"help-block"</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.username.$dirty &amp;&amp; form.username.$error.maxlength"</span><span class="tag">&gt;</span><span class="pln">Your username should be no longer than 16 characters</span><span class="tag">&lt;/span&gt;</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="pln"> </span><span class="atn">ng-class</span><span class="pun">=</span><span class="atv">"{'has-error': form.password.$dirty &amp;&amp; form.password.$invalid}"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">Password:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"Password"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="atn">ng-model</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"help-block"</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.password.$dirty &amp;&amp; form.password.$error.required"</span><span class="tag">&gt;</span><span class="pln">Please enter a password</span><span class="tag">&lt;/span&gt;</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="pln"> </span><span class="atn">ng-class</span><span class="pun">=</span><span class="atv">"{'has-error': form.password2.$dirty &amp;&amp; form.password2.$invalid}"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">Repeat password:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"password2"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"Repeat password"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="atn">ng-model</span><span class="pun">=</span><span class="atv">"password2"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"help-block"</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.password2.$dirty &amp;&amp; form.password2.$error.required"</span><span class="tag">&gt;</span><span class="pln">Please enter a password</span><span class="tag">&lt;/span&gt;</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"submit"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"btn btn-primary btn-block btn-lg"</span><span class="pln"> </span><span class="tag">&gt;</span><span class="pln">Register</span><span class="tag">&lt;/button&gt;</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; </span><span class="tag">&lt;/div&gt;</span><span class="pln"></span><br></li><li class="L6"><span class="pln"></span><span class="tag">&lt;/form&gt;</span></li></ol></pre>
<p>Just like before, we’re also checking if the field is dirty, because we don’t want to show all these error messages if the user didn’t change the form yet.<br>
If you run it in your browser, and enter an invalid mail address, you will get the following message:</p>
<p><a data-lightbox="1746" href="http://i1.wp.com/g00glen00b.be/wp-content/uploads/2014/09/invalid-mail.png"><img src="http://i1.wp.com/g00glen00b.be/wp-content/uploads/2014/09/invalid-mail.png?resize=300%2C156" class="aligncenter size-medium wp-image-1751" alt="invalid-mail" width="300" height="156"></a></p>
<p>While if you leave the mail address away, you will get another message:</p>
<p><a data-lightbox="1746" href="http://i1.wp.com/g00glen00b.be/wp-content/uploads/2014/09/required-mail.png"><img src="http://i1.wp.com/g00glen00b.be/wp-content/uploads/2014/09/required-mail.png?resize=300%2C153" class="aligncenter size-medium wp-image-1756" alt="required-mail" width="300" height="153"></a></p>
<h3>Angular validations</h3>
<p>Other than that, AngularJS also has some validation directives, which usually make it easier to bind some additional information to the controller. An example is the <strong>ngPattern</strong> directive. If we want to validate that the password has at least one uppercase letter, one lowercase letter, one digit and is at least 8 characters long, then we can write a regular expression to match that, add it to the controller and bind it using this directive.</p>
<p>So, let’s add the <code>ng-pattern</code> attribute to the password field like this:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="pln"> </span><span class="atn">ng-class</span><span class="pun">=</span><span class="atv">"{'has-error': form.password.$dirty &amp;&amp; form.password.$invalid}"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">Password:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">ng-model</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"Password"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="atn">ng-model</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="atn">ng-pattern</span><span class="pun">=</span><span class="atv">"passwordPattern"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"help-block"</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.password.$dirty &amp;&amp; form.password.$error.required"</span><span class="tag">&gt;</span><span class="pln">Please enter a password</span><span class="tag">&lt;/span&gt;</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"help-block"</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.password.$dirty &amp;&amp; form.password.$error.pattern"</span><span class="tag">&gt;</span><span class="pln">Your password should be at least 8 characters long, and contain an uppercase letter and a number</span><span class="tag">&lt;/span&gt;</span><span class="pln"></span><br></li><li class="L5"><span class="pln"></span><span class="tag">&lt;/div&gt;</span></li></ol></pre>
<p>I also added an extra message to indicate that the given password does not match the given pattern. The only thing we have to do now is to add the pattern on our controller, for example:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="pln">$scope</span><span class="pun">.</span><span class="pln">passwordPattern </span><span class="pun">=</span><span class="pln"> </span><span class="str">/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/</span><span class="pun">;</span></li></ol></pre>
<p>If we enter an invalid password now, we will see that an error message will be displayed:</p>
<p><a data-lightbox="1746" href="http://i0.wp.com/g00glen00b.be/wp-content/uploads/2014/09/invalid-password.png"><img src="http://i0.wp.com/g00glen00b.be/wp-content/uploads/2014/09/invalid-password.png?resize=300%2C155" class="aligncenter size-medium wp-image-1752" alt="invalid-password" width="300" height="155"></a></p>
<h3>Custom validations</h3>
<p>Well, I covered most parts of form validation now, but the most fun one, writing your own validator is another option you have when validating forms. For example, let’s say that we want to write a validator to check if the second password field contains the same value as the first one (something what happens often in a registration form). To validate this, we can write our own directive, so let’s try it out!<br>
First thing to do is to define a directive, I’m going to call my directive&nbsp;<strong>ngEquals</strong>, so I wrote the following piece of code:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">"myApp.directives"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]).</span><span class="pln">directive</span><span class="pun">(</span><span class="str">"ngEquals"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><span class="kwd">var</span><span class="pln"> directive </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; </span><span class="com">// Custom code</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; </span><span class="kwd">return</span><span class="pln"> directive</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L4"><span class="pln"></span><span class="pun">});</span></li></ol></pre>
<p>Pretty simple, the second thing we have to do is to tell our directive that it can only be applied to an&nbsp;<strong>attribute</strong>, requires a parameter and that it needs the&nbsp;<strong>ngModel</strong> directive for processing the value. We do that by writing:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">"myApp.directives"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]).</span><span class="pln">directive</span><span class="pun">(</span><span class="str">"ngEquals"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><span class="kwd">var</span><span class="pln"> directive </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">};</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp;</span><br></li><li class="L3"><span class="pln">&nbsp; directive</span><span class="pun">.</span><span class="pln">restrict </span><span class="pun">=</span><span class="pln"> </span><span class="str">'A'</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; directive</span><span class="pun">.</span><span class="kwd">require</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">'ngModel'</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; directive</span><span class="pun">.</span><span class="pln">scope </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; original</span><span class="pun">:</span><span class="pln"> </span><span class="str">'=ngEquals'</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; </span><span class="pun">};</span><span class="pln"></span><br></li><li class="L8"><span class="pln"></span><span class="pun">});</span></li></ol></pre>
<p>By using the character “A” in the <code>directive.restrict</code> property, we tell AngularJS that the directive should only be used as an attribute. The <code>directive.require</code> property indicates that we need the <strong>ngModel</strong> model to be present and finally, the <code>directive.scope</code> property allows us to map parameters onto the scope.</p>
<p>In this case we’re two-way binding the value of the <code>ng-equals</code> directive/attribute to the <code>scope.original</code> value.</p>
<p>An important function in a directive is the link function, where all magic happens. In this case, we will use the link function to call the <code>ngModel.$parsers.unshift()</code> function to set the validity of the value to true or false:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="pln">directive</span><span class="pun">.</span><span class="pln">link </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> elm</span><span class="pun">,</span><span class="pln"> attrs</span><span class="pun">,</span><span class="pln"> ngModel</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; ngModel</span><span class="pun">.</span><span class="pln">$parsers</span><span class="pun">.</span><span class="pln">unshift</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; ngModel</span><span class="pun">.</span><span class="pln">$setValidity</span><span class="pun">(</span><span class="str">'equals'</span><span class="pun">,</span><span class="pln"> scope</span><span class="pun">.</span><span class="pln">original </span><span class="pun">===</span><span class="pln"> value</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> value</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; </span><span class="pun">});</span><span class="pln"></span><br></li><li class="L5"><span class="pln"></span><span class="pun">};</span></li></ol></pre>
<p>The link-function normally allows three parameters, the private scope of the directive (containing the <code>scope.original</code> property for example), the element on which the directive was used and the attributes it has.<br>
However, because we said we need the ngModel directive, it also adds an extra parameter, allowing is to call the function to set the validity of our field. We can do that, by calling the <code>ngModel.$setValidity()</code> function, which allows two parameters. The first one being the name of the validator, and the second one being true or false (indicating if the field is valid). Validation is quite simple since we have the original value (we added it to our scope) and the new value, which we receive from the <code>ngModel.$parsers.unshift()</code> callback, so comparing them is a piece of cake now.</p>
<p>That’s all we need! So let’s return to the HTML document and test our directive out. We first need to add it as an attribute to the password2 field, then we can also add a custom message:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="pln"> </span><span class="atn">ng-class</span><span class="pun">=</span><span class="atv">"{'has-error': form.password2.$dirty &amp;&amp; form.password2.$invalid}"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">Repeat password:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"password2"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">ng-model</span><span class="pun">=</span><span class="atv">"password2"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"Repeat password"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="atn">ng-equals</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"help-block"</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.password2.$dirty &amp;&amp; form.password2.$error.required"</span><span class="tag">&gt;</span><span class="pln">Please enter a password</span><span class="tag">&lt;/span&gt;</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"help-block"</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.password2.$dirty &amp;&amp; form.password2.$error.equals"</span><span class="tag">&gt;</span><span class="pln">Passwords do not match</span><span class="tag">&lt;/span&gt;</span><span class="pln"></span><br></li><li class="L5"><span class="pln"></span><span class="tag">&lt;/div&gt;</span></li></ol></pre>
<p>So, as you can see I added the <code>ng-equals</code> attribute to the form element, remember that in AngularJS you should use camel case in the directive name, but when you use it as an attribute, you have to convert it and split it by using the dash, so in this case “ngEquals” becomes “ng-equals”.</p>
<p>We also made it so that the directive requires a parameter, the original value. In our case, we bound the original password to a model called password, so we can simply use that one to compare the passwords.</p>
<p>If we run our application now, and enter different passwords, you will see the error message:</p>
<p><a data-lightbox="1746" href="http://i2.wp.com/g00glen00b.be/wp-content/uploads/2014/09/invalid-password-equals.png"><img src="http://i0.wp.com/g00glen00b.be/wp-content/uploads/2014/09/invalid-password-equals-300x152.png?resize=300%2C152" class="aligncenter size-medium wp-image-1753" alt="invalid-password-equals" width="300" height="152"></a></p>
<h3>Deferreds</h3>
<p>So, while we’re busy, we can write a second directive as well to finish our validations. Another pretty common validation is to use a RESTful webservice to check if the given username is already taken or not. We’re not going to write an entire REST service here, but in stead of that, let’s “mock” it by writing a method in our controller that returns a deferred object that later returns a boolean true or false, indicating if the given username is available or not, so open your controller and add the following function:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="pln">$scope</span><span class="pun">.</span><span class="pln">validUsername </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">username</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><span class="kwd">var</span><span class="pln"> dfd </span><span class="pun">=</span><span class="pln"> $q</span><span class="pun">.</span><span class="pln">defer</span><span class="pun">();</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; dfd</span><span class="pun">.</span><span class="pln">resolve</span><span class="pun">([</span><span class="pln"> </span><span class="str">"g00glen00b"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Dimitri"</span><span class="pln"> </span><span class="pun">].</span><span class="pln">indexOf</span><span class="pun">(</span><span class="pln">username</span><span class="pun">)</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; </span><span class="pun">},</span><span class="pln"> </span><span class="lit">1000</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; </span><span class="kwd">return</span><span class="pln"> dfd</span><span class="pun">.</span><span class="pln">promise</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L6"><span class="pln"></span><span class="pun">};</span></li></ol></pre>
<p>What this does is quite simple, it uses the <code>$q</code> module to create a deferred object, which allows you to work with asynchronous data. In this case our asynchronous data is simply a timed out function by using the <code>setTimeout</code> function, but in reality this could be a call to a real service.</p>
<p>To return the value to a deferred, you use the <code>dfd.resolve()</code> function containing the data, in this case a true if the username is available and false if the username is either “g00glen00b” or “Dimitri”.</p>
<p>That’s all we really need, so let’s go back to our directives and start write a second directive. This directive should be quite easy now, if you understood the previous part of the tutorial, so I’m going to post the entire code at once:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">"myApp.directives"</span><span class="pun">).</span><span class="pln">directive</span><span class="pun">(</span><span class="str">"ngFiltered"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><span class="kwd">var</span><span class="pln"> directive </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">};</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; </span><br></li><li class="L3"><span class="pln">&nbsp; directive</span><span class="pun">.</span><span class="pln">restrict </span><span class="pun">=</span><span class="pln"> </span><span class="str">'A'</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; directive</span><span class="pun">.</span><span class="kwd">require</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">'ngModel'</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; directive</span><span class="pun">.</span><span class="pln">scope </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; filter</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&amp;ngFiltered'</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; </span><span class="pun">};</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; </span><br></li><li class="L9"><span class="pln">&nbsp; directive</span><span class="pun">.</span><span class="pln">link </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> elm</span><span class="pun">,</span><span class="pln"> attrs</span><span class="pun">,</span><span class="pln"> ngModel</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; ngModel</span><span class="pun">.</span><span class="pln">$parsers</span><span class="pun">.</span><span class="pln">unshift</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> scope</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">({</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; $value</span><span class="pun">:</span><span class="pln"> value</span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">typeof</span><span class="pln"> result</span><span class="pun">.</span><span class="kwd">then</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="str">"function"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; result</span><span class="pun">.</span><span class="kwd">then</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ngModel</span><span class="pun">.</span><span class="pln">$setValidity</span><span class="pun">(</span><span class="str">'filtered'</span><span class="pun">,</span><span class="pln"> result</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; ngModel</span><span class="pun">.</span><span class="pln">$setValidity</span><span class="pun">(</span><span class="str">'filtered'</span><span class="pun">,</span><span class="pln"> result</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> value</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; </span><span class="pun">};</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; </span><br></li><li class="L5"><span class="pln">&nbsp; </span><span class="kwd">return</span><span class="pln"> directive</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L6"><span class="pln"></span><span class="pun">});</span></li></ol></pre>
<p>Most of this directive should be clear, but a few things should be noticed. First of all, in stead of binding a value, we’re binding a function to the directive’s scope, which we indicate by using the ampersand (<code>&amp;ngFiltered</code>). To call the function, we use the following code:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="pln">scope</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">({</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; $value</span><span class="pun">:</span><span class="pln"> value</span><br></li><li class="L2"><span class="pln"></span><span class="pun">});</span></li></ol></pre>
<p>The <code>$value</code> in this case is acting as a placeholder. The reason it’s there is that we want to call a function in our controller that requires a parameter (the username), so in order to pass that parameter, we’re going to use a placeholder. I’m going to show you how to use it in the next part.</p>
<p>But first I may have to explain what I’m doing in the <code>directive.link()</code> function. The <code>if</code> statement in it might be quite confusing, but what it does is that it detects if the result of the filter function (from our controller for example) returns either a deferred or a simple boolean true or false. If it returns a deferred, we have to use the <code>then()</code> function to retrieve the data from it.</p>
<p>So, what happens if the function is called is that the controller will return a deferred. The directive will know that it is a deferred, since each deferred has a function called <code>then()</code> (which we check for using the if-statement). It will add a callback function as a parameter to the <code>then()</code> function.<br>
As soon as the deferred is resolved, in this case after 1 second when the <code>dfd.resolve()</code> function in the controller is called, then the callback function will be executed.<br>
The result data will be added as a parameter to the callback function, allowing is to retrieve it in the function itself, using it to set the validity of the field like we did in our first directive.</p>
<p>If the result data of the function is not a deferred, then we can directly set the validity of the field, since we don’t have any asynchronous threads to “wait” for.</p>
<p>Now, to use the directive we go back to the HTML and add the <code>ng-filtered="validUsername($value)"</code> attribute to it. As you can see here, we’re using the <code>$value</code> placeholder here, so that when the function is called, it’s actually calling the function <code>validUsername("text in form field")</code>, allowing us to properly pass a parameter, like the username is this case.</p>
<p>We can also set an error message, so that the HTML for the username becomes:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-group"</span><span class="pln"> </span><span class="atn">ng-class</span><span class="pun">=</span><span class="atv">"{'has-error': form.username.$dirty &amp;&amp; form.username.$invalid}"</span><span class="tag">&gt;</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"control-label"</span><span class="tag">&gt;</span><span class="pln">Username:</span><span class="tag">&lt;/label&gt;</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"username"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"form-control"</span><span class="pln"> </span><span class="atn">ng-model</span><span class="pun">=</span><span class="atv">"username"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"Username"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="atn">maxlength</span><span class="pun">=</span><span class="atv">"16"</span><span class="pln"> </span><span class="atn">ng-filtered</span><span class="pun">=</span><span class="atv">"validUsername($value)"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"help-block"</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.username.$dirty &amp;&amp; form.username.$error.required"</span><span class="tag">&gt;</span><span class="pln">Please provide the username you would like to have</span><span class="tag">&lt;/span&gt;</span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"help-block"</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.username.$dirty &amp;&amp; form.username.$error.maxlength"</span><span class="tag">&gt;</span><span class="pln">Your username should be no longer than 16 characters</span><span class="tag">&lt;/span&gt;</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"help-block"</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.username.$dirty &amp;&amp; form.username.$error.filtered"</span><span class="tag">&gt;</span><span class="pln">That username is already taken</span><span class="tag">&lt;/span&gt;</span><span class="pln"></span><br></li><li class="L6"><span class="pln"></span><span class="tag">&lt;/div&gt;</span></li></ol></pre>
<p>If we run our web application now, and enter the username “g00glen00b”, you will notice that about 1 second later it will show the error message. The reason should be clear by now, because we used the <code>setTimeout</code> function, it’s delaying the validation a bit, but it works fine as you can see.</p>
<p><a data-lightbox="1746" href="http://i0.wp.com/g00glen00b.be/wp-content/uploads/2014/09/invalid-username.png"><img src="http://i0.wp.com/g00glen00b.be/wp-content/uploads/2014/09/invalid-username.png?resize=300%2C152" class="aligncenter size-medium wp-image-1754" alt="invalid-username" width="300" height="152"></a></p>
<h3>Disabling the button</h3>
<p>So, that’s all for validations in this tutorial. But one issue remains, we wrote some really cool validations, but even when the form is invalid, we can still press the “Register” button.<br>
To disable the button as long as the form is invalid, you can use the <strong>ngDisabled</strong> directive, for example:</p>
<pre class="prettyprint linenums pre-scrollable"><ol class="linenums"><li class="L0"><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"submit"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"btn btn-primary btn-block btn-lg"</span><span class="pln"> </span><span class="atn">ng-disabled</span><span class="pun">=</span><span class="atv">"form.$invalid"</span><span class="tag">&gt;</span><span class="pln">Register</span><span class="tag">&lt;/button&gt;</span></li></ol></pre>
<p>If we run the application now, you will see that the button is disabled as long as the form is not valid:</p>
<p><a data-lightbox="1746" href="http://i0.wp.com/g00glen00b.be/wp-content/uploads/2014/09/disabled-button.png"><img src="http://i0.wp.com/g00glen00b.be/wp-content/uploads/2014/09/disabled-button.png?resize=300%2C152" class="aligncenter size-medium wp-image-1750" alt="disabled-button" width="300" height="152"></a></p>
<p>But as soon the form is valid, the button is enabled as well:</p>
<p><a data-lightbox="1746" href="http://i0.wp.com/g00glen00b.be/wp-content/uploads/2014/09/valid-form.png"><img src="http://i0.wp.com/g00glen00b.be/wp-content/uploads/2014/09/valid-form.png?resize=300%2C140" class="aligncenter size-medium wp-image-1757" alt="valid-form" width="300" height="140"></a></p>
<p>With this, I would like to end this tutorial about form validation. You’re now ready to use form validation in any Angular-powered web application.</p>
<div class="alert alert-block alert-info alert-trophy">
<h4 class="alert-heading">Achievement: Wrote a directive for custom form validation using AngularJS</h4>
</div>

</article>

                                                   <!--  <section class="continue-reading yellow border-bottom">
                                                        <header class="section-header">
                                                            <h2 class="continue-reading-header">Continue reading</h2>
                                                        </header>
                                                        <a href="../../../../index.html" class="section-button" title="View all articles">
                                                            <i class="fa fa-eye"></i> View all articles
                                                        </a>
                                                        <div class="section-content container">
                                                            <div class="row">
                                                                <article class="col-xs-12 col-sm-6 continue-reading-button continue-reading-first">
                                                                    <a class="post-link" href="../../../06/08/Swift-Optionals/index.html"></a>
                                                                    <div class="continue-reading-button-inner row">
                                                                        <div class="row">
                                                                            <div class="col-xs-1 hidden-xs"></div>
                                                                            <div class="col-xs-11">
                                                                                <div class="continue-reading-button-header">
                                                                                    <div class="continue-reading-button-header-icon">
                                                                                        <div class="continue-reading-post">
                                                                                            <div class="icon-wrapper">
                                                                                                <i class="fa fa-apple"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="continue-reading-button-header-title">
                                                                                        <h3>Swift Optionals</h3>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="row">
                                                                            <div class="col-xs-1 hidden-xs">
                                                                                <span class="fa fa-chevron-left"></span>
                                                                            </div>
                                                                            <div class="col-xs-11 continue-reading-content">
                                                                                <small>This blog post is all about Optionals, a language concept baked into Apple's Swift programming language. We'll start off with a practical use case, in which we explain how optionals are used. We will then extend the example to make the code shorter, and hopefully, more readable too. We will finish with a study on optionals and where they come from, for those of you wanting more then just some examples. </small>
                                                                            </div>
                                                                            <div class="col-xs-1 hidden-sm hidden-md hidden-lg">
                                                                                <span class="fa fa-chevron-right"></span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </article>
                                                                <article class="col-xs-12 col-sm-6 continue-reading-button continue-reading-last">
                                                                    <a class="post-link" href="../../../11/18/Google-Play-Services-Dynamic-Security-Provider/index.html"></a>
                                                                    <div class="continue-reading-button-inner row">
                                                                        <div class="row">
                                                                            <div class="col-xs-11">
                                                                                <div class="continue-reading-button-header">
                                                                                    <div class="continue-reading-button-header-icon">
                                                                                        <div class="continue-reading-post">
                                                                                            <div class="icon-wrapper">
                                                                                                <i class="fa fa-android"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="continue-reading-button-header-title">
                                                                                        <h3>Google Play Services Dynamic Security Provider</h3>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-xs-1"></div>
                                                                        </div>
                                                                        <div class="row">
                                                                            <div class="col-xs-11 continue-reading-content">
                                                                                <small>A quick look into the Google Play Services Dynamic Security Provider </small>
                                                                            </div>
                                                                            <div class="col-xs-1">
                                                                                <span class="fa fa-chevron-right"></span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </article>
                                                            </div>
                                                        </div>
                                                    </section> -->
                                                    <div id="push"></div>
                                                </div>
                                                <section id="contact" class="dark footer border-top contact xs-margin sm-margin md-margin" footer-element="">
                                                    <div class="container">
                                                        <div class="row">
                                                            <div class="contact-col col-xs-12 col-sm-3 col-md-3 align-center">
                                                                <div class="row">
                                                                    <i class="contact-icon fa fa-phone"></i>
                                                                    <h3 class="contact-title">Give us a call!</h3>
                                                                    <h4 class="contact-label">
                                                                        <a href="tel:006586737532">+65 8673 7532</a>
                                                                    </h4>
                                                                </div>
                                                            </div>
                                                            <div class="contact-col col-xs-12 col-sm-3 col-md-3 align-center">
                                                                <div class="row">
                                                                    <i class="contact-icon fa fa-envelope"></i>
                                                                    <h3 class="contact-title"> Send us an email!</h3>
                                                                    <h4 class="contact-label">
                                                                        <a href="mailto:info@fountaintechies.com">info@fountaintechies.com</a>
                                                                    </h4>
                                                                </div>
                                                            </div>
                                                            <div class="contact-col col-xs-12 col-sm-3 col-md-3 align-center">
                                                                <div class="row">
                                                                    <i class="contact-icon fa fa-twitter"></i>
                                                                    <h3 class="contact-title"> Follow us!</h3>
                                                                    <h4 class="contact-label">
                                                                        <a href="https://twitter.com/fountaintechies" target="_blank">@fountaintechies</a>
                                                                    </h4>
                                                                </div>
                                                            </div>
                                                            <div class="contact-col col-xs-12 col-sm-3 col-md-3 align-center">
                                                                <div class="row">
                                                                    <i class="contact-icon fa fa-github-alt"></i>
                                                                    <h3 class="contact-title"> Fork us on GitHub!</h3>
                                                                    <h4 class="contact-label">
                                                                        <a href="https://github.com/fountaintechies" target="_blank">fountaintechies</a>
                                                                    </h4>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </section>
                                                <div class="align-center dark footer border-bottom">
                                                    <p class="copyright">
                                                        <small>&copy; 2015 Fountain Technologies Pte. Ltd.</small>
                                                    </p>
                                                </div>
                                                <script src="../../../../../assets/app-fb0e394c60653852f6abd8bed493720e.js"></script>
                                                <script src="../../../../../assets/vendor/lightbox.min-c88dcd8d658bb8192df1f50fb6d4ccba.js"></script>
                                            </body>
                                        </html>
